<template>
  <svg
    class="wider-t-shirt__svg"
    width="304"
    height="249"
    viewBox="0 0 304 249"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g :style="scale" class="wider-t-shirt__g">
      <path
        d="M172.5 27.6402C166.5 36.6402 159 39.6402 151 39.6402C143 39.6402 135.5 36.6402 129.5 27.6402M174 39.1402C166.913 45.269 161.5 48.1402 151 48.1402C140.5 48.1402 135.087 45.269 128 39.1402M174.327 39.5184L174.342 39.5053L174.356 39.491C176.6 37.2118 178.244 35.2162 179.648 32.8154C181.05 30.4186 182.2 27.6369 183.475 23.7978L183.477 23.7895L183.48 23.7812C185.262 17.7157 185.807 13.9152 186.423 7.3079C190.632 8.60829 197.599 9.60517 206.642 10.899C207.433 11.0121 208.239 11.1276 209.061 11.2456C219.652 12.767 232.87 14.739 247.863 18.0125C243.014 33.8798 235.303 65.7812 234.507 70.558C234.363 71.422 234.052 75.5716 233.801 82.0987C233.55 88.6413 233.358 97.6066 233.459 108.132L227.521 248.14H75.4861L71.5408 108.136C71.6417 97.6169 71.7004 88.6563 71.6993 82.1178C71.6988 78.8479 71.6834 76.1817 71.6508 74.2287C71.6186 72.299 71.5697 71.0171 71.4932 70.558C71.2877 69.3251 70.5118 66.3615 69.4017 62.4021C68.2877 58.4288 66.8276 53.4198 65.2419 48.0731C62.1396 37.6127 58.5551 25.8532 56.138 18.0123C71.1204 14.7386 83.846 12.7664 93.9422 11.2451C94.5723 11.1502 95.1925 11.0569 95.8026 10.9652C104.627 9.63875 111.336 8.63027 115.577 7.30874C116.193 13.9156 116.738 17.716 118.52 23.7812L118.523 23.7895L118.525 23.7978C119.8 27.6369 120.95 30.4186 122.352 32.8154C123.756 35.2162 125.4 37.2118 127.644 39.491L127.658 39.5053L127.673 39.5184C131.233 42.5968 134.404 44.8862 138.027 46.3999C141.655 47.9155 145.702 48.6402 151 48.6402C156.298 48.6402 160.345 47.9155 163.973 46.3999C167.595 44.8862 170.767 42.5968 174.327 39.5184ZM235.493 70.7224C236.28 65.9995 243.992 34.0867 248.833 18.2604C256.706 20.6123 290.576 31.4381 303.916 36.0585L288.595 105.451L234.454 107.62C234.365 97.3289 234.554 88.5606 234.8 82.1371C235.052 75.5883 235.362 71.5102 235.493 70.7224ZM289.628 105.41L304.867 36.3896C306.105 36.8229 307.12 37.1885 307.866 37.4719C308.291 37.6336 308.624 37.7665 308.859 37.8688C308.935 37.9018 308.998 37.9304 309.049 37.9549C309.05 38.031 309.046 38.1314 309.038 38.2586C309.015 38.6187 308.958 39.1386 308.867 39.8087C308.686 41.1459 308.378 43.0437 307.97 45.3759C307.154 50.0385 305.943 56.4157 304.559 63.469C301.825 77.4146 298.422 93.9918 296.09 105.156L289.628 105.41ZM70.6993 82.118C70.7003 88.5466 70.6436 97.3211 70.5457 107.62L15.4051 105.451L0.0841217 36.0585C13.4248 31.438 47.2957 20.6118 55.168 18.2602C57.5846 26.0989 61.1761 37.8807 64.2831 48.3574C65.8683 53.7023 67.3268 58.7058 68.4389 62.6721C69.5548 66.6523 70.3123 69.5554 70.5068 70.7224C70.5679 71.0892 70.6181 72.2772 70.651 74.2454C70.6834 76.1902 70.6988 78.85 70.6993 82.118ZM-0.866868 36.3896L14.372 105.41L7.90962 105.156C5.57817 93.9918 2.1754 77.4146 -0.559358 63.469C-1.94252 56.4157 -3.15423 50.0385 -3.96999 45.3759C-4.37804 43.0437 -4.68607 41.1459 -4.86703 39.8087C-4.95771 39.1386 -5.01519 38.6187 -5.03813 38.2586C-5.04624 38.1314 -5.04956 38.031 -5.04931 37.9549C-4.99819 37.9304 -4.93513 37.9018 -4.8593 37.8688C-4.62427 37.7665 -4.29132 37.6336 -3.86554 37.4719C-3.1195 37.1885 -2.10465 36.8229 -0.866868 36.3896ZM119.477 23.491C117.702 17.4461 117.173 13.6988 116.551 6.98514C120.225 5.69628 122.824 4.07993 124.964 1.61282C124.9 4.79948 124.946 7.63848 125.074 10.1656C125.591 20.32 127.456 25.4763 129.084 27.9176C135.183 37.0654 142.844 40.1402 151 40.1402C159.156 40.1402 166.817 37.0654 172.916 27.9176C174.544 25.4763 176.409 20.32 176.926 10.1656C177.054 7.63848 177.1 4.79948 177.036 1.61282C179.176 4.07993 181.775 5.69628 185.449 6.98515C184.827 13.6989 184.298 17.4461 182.523 23.4912C181.259 27.2965 180.135 30.0017 178.785 32.3106C177.439 34.6122 175.858 36.5389 173.658 38.7751C170.137 41.8188 167.062 44.0252 163.587 45.4772C160.111 46.9293 156.202 47.6402 151 47.6402C145.798 47.6402 141.889 46.9293 138.413 45.4772C134.938 44.0252 131.863 41.8188 128.342 38.7751C126.142 36.5389 124.561 34.6122 123.215 32.3106C121.865 30.0017 120.741 27.2964 119.477 23.491ZM125.99 0.514667C126 0.516499 126.011 0.518534 126.023 0.5208C126.28 0.571251 126.656 0.703706 127.189 0.920134C127.499 1.0456 127.854 1.19638 128.255 1.36642C129.197 1.7664 130.391 2.27291 131.828 2.80696C135.949 4.33872 142.164 6.13612 150.971 6.63941L151 6.64104L151.029 6.63941C159.836 6.13612 166.051 4.33872 170.172 2.80696C171.609 2.27291 172.803 1.7664 173.745 1.36642C174.146 1.19638 174.501 1.0456 174.811 0.920134C175.344 0.703706 175.72 0.571251 175.977 0.5208C175.989 0.518534 176 0.516499 176.01 0.514667C176.105 3.98991 176.072 7.05924 175.944 9.76709C165.819 12.925 160.278 14.0889 151 14.6394C141.722 14.0889 136.181 12.925 126.056 9.76709C125.928 7.05924 125.895 3.98991 125.99 0.514667ZM126.112 10.8319C136.082 13.9281 141.684 15.0901 150.97 15.6394L151 15.6411L151.03 15.6394C160.316 15.0901 165.918 13.9281 175.888 10.8319C175.325 20.4313 173.53 25.1937 172.084 27.3629C166.183 36.2151 158.844 39.1402 151 39.1402C143.156 39.1402 135.817 36.2151 129.916 27.3629C128.47 25.1937 126.675 20.4313 126.112 10.8319Z"
        stroke="black"
      />
      <g>
        <path
          d="M85.4585 184C85.2205 182.581 83.9865 181.5 82.5 181.5C80.8431 181.5 79.5 182.843 79.5 184.5C79.5 186.157 80.8431 187.5 82.5 187.5C83.9865 187.5 85.2205 186.419 85.4585 185H218.541C218.78 186.419 220.013 187.5 221.5 187.5C223.157 187.5 224.5 186.157 224.5 184.5C224.5 182.843 223.157 181.5 221.5 181.5C220.013 181.5 218.78 182.581 218.541 184H85.4585Z"
          fill="black"
          stroke="black"
        />
        <text
          fill="black"
          xml:space="preserve"
          style="white-space: pre"
          font-family="Poppins"
          font-size="12"
          font-weight="bold"
          letter-spacing="0em"
        >
          <tspan x="161" y="177.2">{{ waistWidth }}</tspan>
        </text>
      </g>
      <g>
        <path
          d="M79.4585 110C79.2205 108.581 77.9865 107.5 76.5 107.5C74.8431 107.5 73.5 108.843 73.5 110.5C73.5 112.157 74.8431 113.5 76.5 113.5C77.9865 113.5 79.2205 112.419 79.4585 111H224.541C224.78 112.419 226.013 113.5 227.5 113.5C229.157 113.5 230.5 112.157 230.5 110.5C230.5 108.843 229.157 107.5 227.5 107.5C226.013 107.5 224.78 108.581 224.541 110H79.4585Z"
          fill="black"
          stroke="black"
        />
        <text
          fill="black"
          xml:space="preserve"
          style="white-space: pre"
          font-family="Poppins"
          font-size="12"
          font-weight="bold"
          letter-spacing="0em"
        >
          <tspan x="161" y="103.2">{{ chestWidth }}</tspan>
        </text>
      </g>
      <g>
        <path
          d="M114 17.4585C115.419 17.2205 116.5 15.9865 116.5 14.5C116.5 12.8431 115.157 11.5 113.5 11.5C111.843 11.5 110.5 12.8431 110.5 14.5C110.5 15.9865 111.581 17.2205 113 17.4585V240.541C111.581 240.78 110.5 242.013 110.5 243.5C110.5 245.157 111.843 246.5 113.5 246.5C115.157 246.5 116.5 245.157 116.5 243.5C116.5 242.013 115.419 240.78 114 240.541V17.4585Z"
          fill="black"
          stroke="black"
        />
        <text
          fill="black"
          xml:space="preserve"
          style="white-space: pre"
          font-family="Poppins"
          font-size="12"
          font-weight="bold"
          letter-spacing="0em"
        >
          <tspan x="121" y="222.2">{{ neckToHipHeight }}</tspan>
        </text>
      </g>
      <g>
        <path
          d="M242.103 39.719C242.296 38.2933 241.439 36.8948 240.019 36.4539C238.437 35.9624 236.756 36.8467 236.264 38.429C235.773 40.0113 236.657 41.6924 238.239 42.1839C239.659 42.6248 241.158 41.9583 241.806 40.6739L305.87 60.5726C305.676 61.9982 306.534 63.3967 307.954 63.8377C309.536 64.3291 311.217 63.4448 311.709 61.8626C312.2 60.2803 311.316 58.5992 309.733 58.1077C308.314 57.6668 306.815 58.3332 306.167 59.6176L242.103 39.719Z"
          fill="black"
          stroke="black"
        />
        <text
          transform="translate(259.057 24.0427) rotate(17.2552)"
          fill="black"
          xml:space="preserve"
          style="white-space: pre"
          font-family="Poppins"
          font-size="12"
          font-weight="bold"
          letter-spacing="0em"
        >
          <tspan x="0" y="13.2">{{ sleeveLengthShirt }}</tspan>
        </text>
      </g>
    </g>
  </svg>
</template>

<script lang="ts">
import { computed, defineComponent } from "vue";
import { useStore } from "vuex";

export default defineComponent({
  name: "WiderTShirt",
  props: {
    offset: {
      type: Number,
      required: true,
    },
  },
  setup(props) {
    const store = useStore();
    const measureOffset = computed(() => props.offset);
    const chestWidth = computed(
      () => `${store.getters["design/getChestWidth"]}cm`
    );
    const neckToHipHeight = computed(
      () => `${store.getters["design/getNeckToHipHeight"]}cm`
    );
    const sleeveLengthShirt = computed(
      () => `${store.getters["design/getSleeveLengthShirt"]}cm`
    );
    const waistWidth = computed(
      () => `${store.getters["design/getWaistWidth"]}cm`
    );
    const scale = computed(() => ({
      transform: `scale(${1 + 0.02 * measureOffset.value}, 1)`,
    }));
    return {
      measureOffset,
      chestWidth,
      neckToHipHeight,
      sleeveLengthShirt,
      waistWidth,
      scale,
    };
  },
});
</script>

<style lang="scss" scoped>
.wider-t-shirt {
  &__svg {
    width: 100%;
    margin: 24px 0px;
  }

  &__g {
    transition: transform 0.5s ease-in-out;
  }
}
</style>
