<template>
  <svg
    class="narrower-t-shirt__svg"
    width="304"
    height="249"
    viewBox="0 0 304 249"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g :style="scale" class="narrower-t-shirt__g">
      <path
        d="M172.5 27.6402C166.5 36.6402 159 39.6402 151 39.6402C143 39.6402 135.5 36.6402 129.5 27.6402M174 39.1402C166.913 45.269 161.5 48.1402 151 48.1402C140.5 48.1402 135.087 45.269 128 39.1402M174.327 39.5184L174.342 39.5053L174.356 39.491C176.6 37.2118 178.244 35.2162 179.648 32.8154C181.05 30.4186 182.2 27.6369 183.475 23.7978L183.477 23.7895L183.48 23.7812C185.262 17.7165 185.807 13.9162 186.423 7.31046C190.791 8.69552 197.03 9.73759 205.583 11.1659L206.05 11.2439C215.159 12.7653 226.899 14.7377 241.863 18.0123C237.014 33.8796 229.303 65.7812 228.507 70.558C228.363 71.422 228.052 75.5716 227.801 82.0987C227.554 88.5434 227.364 97.3387 227.455 107.66L227.449 107.66L227.459 108.145L227.459 108.151L230.489 248.14H72.5183L77.5404 108.158L77.5583 107.66L77.5454 107.66C77.6435 97.3465 77.7003 88.5574 77.6993 82.1178C77.6988 78.8479 77.6834 76.1817 77.6508 74.2287C77.6186 72.299 77.5697 71.0171 77.4932 70.558C77.2877 69.3251 76.5118 66.3615 75.4017 62.4021C74.2877 58.4288 72.8276 53.4198 71.2419 48.0731C68.1396 37.6127 64.5551 25.8531 62.1379 18.0122C76.7812 14.8052 87.8706 12.8471 96.4143 11.3385L96.9546 11.2431C105.272 9.77416 111.175 8.7199 115.577 7.31134C116.193 13.9166 116.738 17.7168 118.52 23.7812L118.523 23.7895L118.525 23.7978C119.8 27.6369 120.95 30.4186 122.352 32.8154C123.756 35.2162 125.4 37.2118 127.644 39.491L127.658 39.5053L127.673 39.5184C131.233 42.5968 134.404 44.8862 138.027 46.3999C141.655 47.9155 145.702 48.6402 151 48.6402C156.298 48.6402 160.345 47.9155 163.973 46.3999C167.595 44.8862 170.767 42.5968 174.327 39.5184ZM229.493 70.7224C230.28 65.9995 237.992 34.0867 242.833 18.2604C250.706 20.6123 284.576 31.4381 297.916 36.0585L282.595 105.451L228.454 107.62C228.365 97.3289 228.554 88.5606 228.8 82.1371C229.052 75.5883 229.362 71.5102 229.493 70.7224ZM283.628 105.41L298.867 36.3896C300.105 36.8229 301.12 37.1885 301.866 37.4719C302.291 37.6336 302.624 37.7665 302.859 37.8688C302.935 37.9018 302.998 37.9304 303.049 37.9549C303.05 38.031 303.046 38.1314 303.038 38.2586C303.015 38.6187 302.958 39.1386 302.867 39.8087C302.686 41.1459 302.378 43.0437 301.97 45.3759C301.154 50.0385 299.943 56.4157 298.559 63.469C295.825 77.4146 292.422 93.9918 290.09 105.156L283.628 105.41ZM76.6993 82.118C76.7003 88.5466 76.6436 97.3211 76.5457 107.62L21.4051 105.451L6.08412 36.0585C19.4248 31.438 53.2957 20.6118 61.168 18.2602C63.5846 26.0989 67.1761 37.8807 70.2831 48.3574C71.8683 53.7023 73.3268 58.7058 74.4389 62.6721C75.5548 66.6523 76.3123 69.5554 76.5068 70.7224C76.5679 71.0892 76.6181 72.2772 76.651 74.2454C76.6834 76.1902 76.6988 78.85 76.6993 82.118ZM5.13313 36.3896L20.372 105.41L13.9096 105.156C11.5782 93.9918 8.1754 77.4146 5.44064 63.469C4.05748 56.4157 2.84577 50.0385 2.03001 45.3759C1.62196 43.0437 1.31393 41.1459 1.13297 39.8087C1.04229 39.1386 0.984814 38.6187 0.961868 38.2586C0.953764 38.1314 0.950444 38.031 0.95069 37.9549C1.00181 37.9304 1.06487 37.9018 1.1407 37.8688C1.37573 37.7665 1.70868 37.6336 2.13446 37.4719C2.8805 37.1885 3.89535 36.8229 5.13313 36.3896ZM119.477 23.491C117.702 17.4461 117.173 13.6988 116.551 6.98514C120.225 5.69628 122.824 4.07993 124.964 1.61282C124.9 4.79948 124.946 7.63848 125.074 10.1656C125.591 20.32 127.456 25.4763 129.084 27.9176C135.183 37.0654 142.844 40.1402 151 40.1402C159.156 40.1402 166.817 37.0654 172.916 27.9176C174.544 25.4763 176.409 20.32 176.926 10.1656C177.054 7.63848 177.1 4.79948 177.036 1.61282C179.176 4.07993 181.775 5.69628 185.449 6.98515C184.827 13.6989 184.298 17.4461 182.523 23.4912C181.259 27.2965 180.135 30.0017 178.785 32.3106C177.439 34.6122 175.858 36.5389 173.658 38.7751C170.137 41.8188 167.062 44.0252 163.587 45.4772C160.111 46.9293 156.202 47.6402 151 47.6402C145.798 47.6402 141.889 46.9293 138.413 45.4772C134.938 44.0252 131.863 41.8188 128.342 38.7751C126.142 36.5389 124.561 34.6122 123.215 32.3106C121.865 30.0017 120.741 27.2964 119.477 23.491ZM125.99 0.514666C126 0.516498 126.011 0.518533 126.023 0.5208C126.28 0.571251 126.656 0.703706 127.189 0.920134C127.499 1.04559 127.854 1.19637 128.255 1.3664C129.197 1.76638 130.391 2.2729 131.828 2.80696C135.949 4.33872 142.164 6.13612 150.971 6.63941L151 6.64104L151.029 6.63941C159.836 6.13612 166.051 4.33872 170.172 2.80696C171.609 2.27291 172.803 1.7664 173.745 1.36642C174.146 1.19638 174.501 1.0456 174.811 0.920134C175.344 0.703706 175.72 0.571251 175.977 0.5208C175.989 0.518534 176 0.516499 176.01 0.514667C176.105 3.98991 176.072 7.05924 175.944 9.76709C165.819 12.925 160.278 14.0889 151 14.6394C141.722 14.0889 136.181 12.925 126.056 9.7671C125.928 7.05924 125.895 3.98991 125.99 0.514666ZM126.112 10.8319C136.082 13.9281 141.684 15.0901 150.97 15.6394L151 15.6411L151.03 15.6394C160.316 15.0901 165.918 13.9281 175.888 10.8319C175.325 20.4313 173.53 25.1937 172.084 27.3629C166.183 36.2151 158.844 39.1402 151 39.1402C143.156 39.1402 135.817 36.2151 129.916 27.3629C128.47 25.1937 126.675 20.4313 126.112 10.8319Z"
        stroke="black"
      />
      <g>
        <path
          d="M82.4585 184C82.2205 182.581 80.9865 181.5 79.5 181.5C77.8431 181.5 76.5 182.843 76.5 184.5C76.5 186.157 77.8431 187.5 79.5 187.5C80.9865 187.5 82.2205 186.419 82.4585 185H221.541C221.78 186.419 223.013 187.5 224.5 187.5C226.157 187.5 227.5 186.157 227.5 184.5C227.5 182.843 226.157 181.5 224.5 181.5C223.013 181.5 221.78 182.581 221.541 184H82.4585Z"
          fill="black"
          stroke="black"
        />
        <text
          fill="black"
          xml:space="preserve"
          style="white-space: pre"
          font-family="Poppins"
          font-size="12"
          font-weight="bold"
          letter-spacing="0em"
        >
          <tspan x="161" y="177.2">{{ waistWidth }}</tspan>
        </text>
      </g>
      <g>
        <path
          d="M85.4585 110C85.2205 108.581 83.9865 107.5 82.5 107.5C80.8431 107.5 79.5 108.843 79.5 110.5C79.5 112.157 80.8431 113.5 82.5 113.5C83.9865 113.5 85.2205 112.419 85.4585 111H218.541C218.78 112.419 220.013 113.5 221.5 113.5C223.157 113.5 224.5 112.157 224.5 110.5C224.5 108.843 223.157 107.5 221.5 107.5C220.013 107.5 218.78 108.581 218.541 110H85.4585Z"
          fill="black"
          stroke="black"
        />
        <text
          fill="black"
          xml:space="preserve"
          style="white-space: pre"
          font-family="Poppins"
          font-size="12"
          font-weight="bold"
          letter-spacing="0em"
        >
          <tspan x="161" y="103.2">{{ chestWidth }}</tspan>
        </text>
      </g>
      <g>
        <path
          d="M114 17.4585C115.419 17.2205 116.5 15.9865 116.5 14.5C116.5 12.8431 115.157 11.5 113.5 11.5C111.843 11.5 110.5 12.8431 110.5 14.5C110.5 15.9865 111.581 17.2205 113 17.4585V240.541C111.581 240.78 110.5 242.013 110.5 243.5C110.5 245.157 111.843 246.5 113.5 246.5C115.157 246.5 116.5 245.157 116.5 243.5C116.5 242.013 115.419 240.78 114 240.541V17.4585Z"
          fill="black"
          stroke="black"
        />
        <text
          fill="black"
          xml:space="preserve"
          style="white-space: pre"
          font-family="Poppins"
          font-size="12"
          font-weight="bold"
          letter-spacing="0em"
        >
          <tspan x="121" y="222.2">{{ neckToHipHeight }}</tspan>
        </text>
      </g>
      <g>
        <path
          d="M236.103 39.719C236.296 38.2933 235.439 36.8948 234.019 36.4539C232.437 35.9624 230.756 36.8467 230.264 38.429C229.773 40.0113 230.657 41.6924 232.239 42.1839C233.659 42.6248 235.158 41.9583 235.806 40.6739L299.87 60.5726C299.676 61.9982 300.534 63.3967 301.954 63.8377C303.536 64.3291 305.217 63.4448 305.709 61.8626C306.2 60.2803 305.316 58.5992 303.733 58.1077C302.314 57.6668 300.815 58.3332 300.167 59.6176L236.103 39.719Z"
          fill="black"
          stroke="black"
        />
        <text
          transform="translate(253.057 24.0427) rotate(17.2552)"
          fill="black"
          xml:space="preserve"
          style="white-space: pre"
          font-family="Poppins"
          font-size="12"
          font-weight="bold"
          letter-spacing="0em"
        >
          <tspan x="0" y="13.2">{{ sleeveLengthShirt }}</tspan>
        </text>
      </g>
    </g>
  </svg>
</template>

<script lang="ts">
import { computed, defineComponent } from "vue";
import { useStore } from "vuex";

export default defineComponent({
  name: "NarrowerTShirt",
  props: {
    offset: {
      type: Number,
      required: true,
    },
  },
  setup(props) {
    const store = useStore();
    const measureOffset = computed(() => props.offset);
    const chestWidth = computed(
      () => `${store.getters["design/getChestWidth"]}cm`
    );
    const neckToHipHeight = computed(
      () => `${store.getters["design/getNeckToHipHeight"]}cm`
    );
    const sleeveLengthShirt = computed(
      () => `${store.getters["design/getSleeveLengthShirt"]}cm`
    );
    const waistWidth = computed(
      () => `${store.getters["design/getWaistWidth"]}cm`
    );
    const scale = computed(() => ({
      transform: `scale(${1 + 0.02 * measureOffset.value}, 1)`,
    }));
    return {
      measureOffset,
      chestWidth,
      neckToHipHeight,
      sleeveLengthShirt,
      waistWidth,
      scale,
    };
  },
});
</script>

<style lang="scss" scoped>
.narrower-t-shirt {
  &__svg {
    width: 100%;
    margin: 24px 0px;
  }

  &__g {
    transition: transform 0.5s ease-in-out;
  }
}
</style>
